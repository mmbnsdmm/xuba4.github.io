let conf = {
    test: "test",
    apiUrl: null,
    mapApiUrl: "http://inityii.tc/api/public/get-api-url",
    // mapApiUrl: "https://bnsdmm.github.io",
    v_id: 1,
    version: "1.0.0",
    productionTip: false,
    serverData: {
        enums: {}
    }
}

import Tool from '@/common/tool'
import jquery from 'jquery'
conf.apiUrl = Tool.getCache('API_URL')
if(!conf.apiUrl){
    jquery.ajax({
        url:conf.mapApiUrl,
        async: true,
        datatype: "json",
        success: function(msg){
            conf.apiUrl = msg.apiUrl
            Tool.setCache('API_URL', conf.apiUrl, 86400 * 3)
        }
    })
}else{
    jquery.ajax({
        url: Tool.getCache('API_URL') + "/public/get-enums",
        async: true,
        datatype: "json",
        success: function(msg){
            conf.serverData.enums = msg.data.enums
        },
        error: function(){
            conf.serverData.enums = {}
            Tool.delCache('API_URL')
        }
    })
}
export default conf